# Start of the target is January 1st 2017
start_target = datetime(year=2017, month=1, day=1)

# Select gifts made before start_target
gifts_before_2017 = gifts[gifts["date"] < start_target]

# Print the number of donations in gifts_before_2017
print(len(gifts_before_2017))

# Select the relevant predictors and the target
X = basetable[["amount_2017"]]
y = basetable[["target"]]

# Build the logistic regression model
logreg = linear_model.LogisticRegression()
logreg.fit(X, y)

# Make predictions for X
predictions = logreg.predict_proba(X)[:,1]

# Calculate and print the AUC value
auc = roc_auc_score(y, predictions)
print(round(auc, 2))
